(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,a){},17:function(t,e,a){},19:function(t,e,a){},21:function(t,e,a){},23:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(8),i=a.n(o);a(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(1),s=a(2),d=a(4),u=a(3),l=a(5),p=a(6),C=(a(17),a(19),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(u.a)(e).call(this,t))).state={},a}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{style:this.props.style},this.props.value)}}]),e}(n.Component)),h=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(u.a)(e).call(this,t))).state={},a}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{style:this.props.style,child:this.props.child,className:"b-card"},this.props.child.map(function(t,e){return r.a.createElement(C,{key:e,value:t.value})}))}}]),e}(n.Component),v=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(u.a)(e).call(this,t))).state={},a}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{style:this.props.style,child:this.props.child,className:"a-card"},r.a.createElement("div",{className:"b-card-container",style:this.props.containerStyle},this.props.child.map(function(t,e){return r.a.createElement(h,{child:t.BCardChild,style:t.BCardAttr.style,key:e})})))}}]),e}(n.Component),f=(a(21),0),g=(new Date).getTime(),m=void 0,A=void 0,L=0,S=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(u.a)(e).call(this,t))).componentWillMount=function(){a.preventScroll()},a.componentDidMount=function(){},a.componentWillUnmount=function(){},a.preventScroll=function(){var t=Object(p.a)(Object(p.a)(a));window.addEventListener("wheel",function(e){e.preventDefault(),t.stablizeScroll(e)}),window.addEventListener("touchmove",function(e){e.preventDefault(),t.stablizeScreenTouch(e)},{passive:!1})},a.stablizeScroll=function(t){var e=(new Date).getTime();Boolean(e-f<a.state.touchQuietPeriod+a.state.animationTime)||(m=t.deltaY,f=e,a.onStableScroll())},a.stablizeScreenTouch=function(t){var e=(new Date).getTime(),n=t.changedTouches.item(0).clientY,r=n-A,o=Boolean(e-g>a.state.scrollQuietPeriod+a.state.animationTime);(r>=a.state.touchStableConstantNumber||r<=-a.state.touchStableConstantNumber)&&o&&(a.onStableScreenTouch(r<0?-1:1),g=e),A=o?n:void 0},a.setParentCardActiveStatus=function(t,e){a.props.setCardActiveStatus(t,e)},a.setUpCardActiveStatus=function(t,e){var n=t.map(function(t){if(void 0!==t[0])return 0;throw new Error("A A-Card has no child!")});a.setParentCardActiveStatus(n,function(){a.updateCardActiveStatus(n,a.getCurrentLocation(),e)})},a.updateCardActiveStatus=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t;r[e[0]]=e[1],a.setParentCardActiveStatus(r,function(){console.log("car active status updated: "+a.props.getCardActiveStatus),console.log(n),n()})},a.onStableScreenTouch=function(t){console.log(t),a.moveNextLocation(t)},a.onStableScroll=function(){L=a.getIsDirectionUp(),console.log(L),a.moveNextLocation(L)},a.getIsDirectionUp=function(){return 0!==m?m<0?1:-1:0},a.getCurrentLocation=function(){return console.log(a.props.getCurrentLocationFromParent()),void 0===a.props.getCurrentLocationFromParent()?[0,0,0]:a.props.getCurrentLocationFromParent()},a.setCurrentLocationToParent=function(t){a.props.setCurrentLocationToParent(t)},a.moveNextLocation=function(t){var e=-1*t;console.log(a.getCurrentLocation());var n=a.getCurrentLocation(),r=a.props.getCardActiveStatus;if(console.log("current: "+[n[0],n[1]]),console.log("origionalCardActiveStatus: "+r),a.isLocationExists([n[0],n[1]+e]))console.log("\u4e0a/\u4e0b\u4e00\u5f35B\u5361\u5b58\u5728 "),a.setCurrentLocationToParent([n[0],n[1]+e,n[2]]),a.moveNextBCardInContainer(t,n),a.handleUpdateCardActiveStatus();else if(1===t&&a.isLocationExists([n[0]+e,0]))console.log("\u4e0a\u4e00\u5f35B\u5361\u4e0d\u5b58\u5728\uff0c\u82e5\u5f80\u4e0a\u4e14\u4e0a\u4e00A\u5f35\u5361\u5b58\u5728\uff0c\u5207\u4e0a\u4e00\u5f35A\u5361\u4e26\u79fb\u5230\u6700\u5f8c\u4e00\u5f35B\u5361"),a.setCurrentLocationToParent([n[0]+e,a.props.getCardLocationList[n[0]+e].length-1,0]),a.moveNextACardInContainer(t),a.handleUpdateCardActiveStatus();else if(-1===t&&a.isLocationExists([n[0]+e,0]))console.log("\u4e0b\u4e00\u5f35B\u5361\u4e0d\u5b58\u5728\uff0c\u82e5\u5f80\u4e0b\u4e14\u4e0b\u4e00A\u5f35\u5361\u5b58\u5728\uff0c\u5207\u4e0b\u4e00\u5f35A\u5361\u4e26\u79fb\u5230\u7b2c0\u5f35B\u5361"),a.setCurrentLocationToParent([n[0]+e,0,0]),a.moveNextACardInContainer(t),console.log("(current[0] + isDown): ".concat(n[0]+e,", origionalCardActiveStatus:").concat(r)),a.jumpBCardsInACard([n[0]+e,r[n[0]+e]],[n[0]+e,0]),a.handleUpdateCardActiveStatus();else if(console.log(a.props.getCardLocationList),0===n[0]&&0===n[1]&&1===t)console.log("you reach the top!");else{if(n[0]!==a.props.getCardLocationList.length-1||n[1]!==a.props.getCardLocationList[a.props.getCardLocationList.length-1].length-1||-1!==t)throw new Error("moveNextLocation: you may encounter a logic problem");console.log("you reach the bottom!")}console.log("cardActiveStatus: "+a.props.getCardActiveStatus)},a.moveNextACardInContainer=function(t){a.props.setContainerTransformY(a.props.getContainerTransformY+a.props.getACardOuterHeight*t)},a.moveNextBCardInContainer=function(t,e){a.props.rawMoveBCard(e[0],1*t)},a.rawMoveNext=function(t){console.log(a.state.transformY),a.props.setContainerTransformY(a.props.getContainerTransformY+a.props.getACardOuterHeight*t),console.log(0===t?"(raw move) no move":t<0?"raw move down":"raw move up"),a.handleUpdateCardActiveStatus()},a.onJumpLocation=function(t,e){var n;(console.log(t,e),t[0]===e[0])?t[1]===e[1]||(a.setCurrentLocationToParent([e[0],e[1],e[2]]),a.jumpBCardsInACard(t,e)):a.handleUpdateCardActiveStatus(function(){n=a.props.getCardActiveStatus[e[0]],console.log("fromLocation: ".concat(t," ,toLocation: ").concat(e,", BCardInNewACardToInactivate: ").concat(n," ")),a.setCurrentLocationToParent([e[0],e[1],e[2]]),console.log("fromACardLocation: ".concat([e[0],n],", toLocation: ").concat(e,", BCardInNewACardToInactivate: ").concat(n)),a.jumpBCardsInACard([e[0],n],e),a.jumpACardsInContainer(t[0],e[0])});console.log("cardActiveStatus: "+a.props.getCardActiveStatus)},a.jumpACardsInContainer=function(t,e){var n=t-e;console.log("jumpACardsInContainer:forACardLocation: ".concat(t," - toACardLocation: ").concat(e," = distance: ").concat(n," (getACardOuterHeight: ").concat(a.props.getACardOuterHeight,")")),a.props.setContainerTransformY(a.props.getContainerTransformY+a.props.getACardOuterHeight*n),a.handleUpdateCardActiveStatus()},a.jumpBCardsInACard=function(t,e){var n=t[1]-e[1];console.log("jumpBCardsInACard:formBCardLocation[1]: ".concat(t[1]," - toBCardLocation[1]: ").concat(e[1]," = distance: ").concat(n)),a.props.rawMoveBCard(t[0],n),a.handleUpdateCardActiveStatus()},a.handleUpdateCardActiveStatus=function(t){void 0===a.props.getCardActiveStatus?a.setUpCardActiveStatus(a.props.getCardLocationList,t):a.updateCardActiveStatus(a.props.getCardActiveStatus,a.getCurrentLocation(),t)},a.isLocationExists=function(t){try{if(void 0===a.props.getCardLocationList[t[0]][t[1]])return console.log([t[0],t[1]]+"not exists! "),!1;if(void 0!==a.props.getCardLocationList[t[0]][t[1]])return console.log([t[0],t[1]]+"exists! "),!0;throw new Error("isExists has an exception")}catch(e){return!1}},a.refHandler=function(t){a.containerElement=t,a.props.refHandler()},a.handleOnButtonKeyPress=function(t){if(t.target.value&&"Enter"===t.key){var e=+t.target.value.slice(0,1),n=+t.target.value.slice(1,2);console.log(e,n),console.log(a.getCurrentLocation()),a.isLocationExists([e,n,0])?a.onJumpLocation(a.getCurrentLocation(),[e,n,0]):console.log("No this number!")}},a.state={animationTime:1200,scrollQuietPeriod:0,touchQuietPeriod:0,touchStableConstantNumber:2},a}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this,e={transform:"translate3d(0px,"+this.props.getContainerTransformY+"vh,0px)"};return[r.a.createElement("div",{id:"card-container",style:e,ref:this.refHandler},this.props.cardListData.map(function(t,e){return r.a.createElement(v,{key:e,child:t.ACardChild,style:t.ACardAttr.style,containerStyle:t.BCardContainerAttr.style,className:"a-card"})})),r.a.createElement("div",{style:{height:"50px",width:"100%",position:" fixed",top:"0px",backgroundColor:"cadetblue"}},r.a.createElement("form",{style:{position:"fixed",zIndex:"100"}},"A-Card: ",r.a.createElement("input",{type:"text",name:"onepage"}),"B-Card: ",r.a.createElement("input",{type:"text",name:"subpage",onKeyPress:function(e){t.handleOnButtonKeyPress(e)}})))]}}]),e}(n.Component);var b=function(t){var e=[];return e.push({ACardAttr:{style:{transform:"translate3d(0px,0vh,0px)"}},BCardContainerAttr:{style:{transform:"translate3d(0px,0vh,0px)"}},ACardChild:y(t)}),e.push({ACardAttr:{style:{transform:"translate3d(0px,0vh,0px)"}},BCardContainerAttr:{style:{transform:"translate3d(0px,0vh,0px)"}},ACardChild:y(t)}),e.push({ACardAttr:{style:{transform:"translate3d(0px,0vh,0px)"}},BCardContainerAttr:{style:{transform:"translate3d(0px,0vh,0px)"}},ACardChild:y(t)}),e},y=function(t){return[{BCardAttr:{style:{height:t-10+"vh"}},BCardChild:B()},{BCardAttr:{style:{height:t-10+"vh"}},BCardChild:T()},{BCardAttr:{style:{height:t-10+"vh"}},BCardChild:x()}]},B=function(){return[{value:"cCard1"},{value:"cCard2"}]},T=function(){return[{value:"cCard3"},{value:"cCard4"}]},x=function(){return[{value:"cCard5"},{value:"cCard6"}]},O=function(t){var e=b(t);return console.log(e),e};var w=function(t){var e=[];return t.map(function(t,a){e.push({ACardAttr:t.ACardAttr,ACardChild:[],BCardContainerAttr:t.BCardContainerAttr});var n=j(t.ACardChild,a);return e[a].ACardChild=n,console.log(e),!0}),e},j=function(t,e){var a=[];return t.map(function(t,e){return E(t.BCardChild,e,t,a),!0}),a},E=function(t,e,a,n){t.map(function(t,e){var r={BCardAttr:a.BCardAttr,BCardChild:[t]};return n.push(r),!0})},P=function(t){return w(t)};var D,I=function(t){var e=[];return t.map(function(t,a){var n=[];return t.ACardChild.map(function(t,e){var a=[];return t.BCardChild.map(function(t,e){return a.push(0),!0}),n.push(a),!0}),e.push(n),!0}),console.log(e),e},N=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(u.a)(e).call(this,t))).componentWillMount=function(){window.addEventListener("resize",a.updateWidth)},a.componentDidMount=function(){a.updateWidth()},a.updateWidth=function(){D=document.getElementById("card-app").clientWidth,a.setState({containerWidth:D,screenType:a.getScreenType()},function(){a.createCardList(a.resetDataListAndLocation)})},a.resetDataListAndLocation=function(){a.state.cardDataList.map(function(t,e){console.log(a.state.cardDataList[e]),a.moveBCardToStartPoint(e),a.moveACardToStartPoint(e),a.setLocationToStartPoint(),a.setCardActiveStatusToUndefined()})},a.createCardList=function(t){switch(console.log(a.state.screenType),a.state.screenType){case"mobile phone":a.adaptMobileScreen(t);break;case"tablet":case"laptop":case"PC screens and bigger":a.adaptLaptopScreen(t);break;default:throw new Error("Scree Type Error")}},a.adaptMobileScreen=function(t){var e=P(O(a.state.bCardOuterHeight));a.setState({cardDataList:e},a.setCardLocationList(e,t))},a.adaptLaptopScreen=function(t){var e=O(a.state.bCardOuterHeight);a.setState({cardDataList:e},a.setCardLocationList(e,t))},a.setCardLocationList=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};a.setState({cardLocationList:I(t)},function(){console.log(a.state.cardDataList),console.log(a.state.cardLocationList),e()})},a.getScreenType=function(){var t=a.state.containerWidth;return t<=480?(console.log("mobile phone"),"mobile phone"):t<=1024?(console.log("tablet"),"tablet"):t<=1600?(console.log("laptop"),"laptop"):(console.log("PC screens and bigger"),"PC screens and bigger")},a.setContainerRef=function(t){a.containerElement=t},a.rawMoveBCard=function(t,e){var n=a.state.cardDataList,r=a.getOrigionalTransformY(t);n[t].BCardContainerAttr={style:{transform:"translate3d(0px,"+(r+a.state.bCardOuterHeight*e)+"vh,0px)"}},a.setState({cardDataList:n})},a.moveACardToStartPoint=function(t){a.setTransformY(0)},a.moveBCardToStartPoint=function(t){var e=a.state.cardDataList;e[t].BCardContainerAttr={style:{transform:"translate3d(0px,0vh,0px)"}},a.setState({cardDataList:e})},a.setLocationToStartPoint=function(){a.setState({currentLocation:[0,0,0]})},a.setCardActiveStatusToUndefined=function(){a.setState({cardActiveStatus:void 0},function(){})},a.getOrigionalTransformY=function(t){var e,n=(e=void 0===a.state.cardDataList[t].BCardContainerAttr.style?"translate3d(0px,0vh,0px)":a.state.cardDataList[t].BCardContainerAttr.style.transform).toString().lastIndexOf(","),r=(e=e.slice(0,n-2)).lastIndexOf(",");return+e.slice(r+1)},a.setCardActiveStatus=function(t,e){a.setState({cardActiveStatus:t},e)},a.getCurrentLocation=function(){return a.state.currentLocation},a.setCurrentLocation=function(t){a.setState({currentLocation:t})},a.setTransformY=function(t){a.setState({transformY:t})},a.state={containerWidth:document.getElementById("card-app").clientWidth,screenType:"",cardDataList:[],cardLocationList:[],bCardOuterHeight:90,aCardOuterHeight:100,cardActiveStatus:void 0,currentLocation:[0,0,0],transformY:0},a}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(S,{getCardLocationList:this.state.cardLocationList,getBCardOuterHeight:this.state.bCardOuterHeight,getACardOuterHeight:this.state.aCardOuterHeight,cardListData:this.state.cardDataList,rawMoveBCard:this.rawMoveBCard,refHandler:this.setContainerRef,screenType:this.state.screenType,setCardActiveStatus:this.setCardActiveStatus,getCardActiveStatus:this.state.cardActiveStatus,getCurrentLocationFromParent:this.getCurrentLocation,setCurrentLocationToParent:function(e){t.setCurrentLocation(e)},getContainerTransformY:this.state.transformY,setContainerTransformY:function(e){return t.setTransformY(e)}})}}]),e}(n.Component);i.a.render(r.a.createElement(N,{id:"card-app"}),document.getElementById("card-app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,a){t.exports=a(23)}},[[9,2,1]]]);
//# sourceMappingURL=main.1b888f4c.chunk.js.map